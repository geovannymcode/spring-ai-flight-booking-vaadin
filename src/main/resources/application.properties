# SpringFly Vaadin Application Configuration

# Application
spring.application.name=springfly-vaadin

# Server Configuration
server.port=${PORT:8080}
logging.level.org.atmosphere=warn

# Launch the default browser when starting the application in development mode
vaadin.launch-browser=true

# To improve the performance during development.
# For more information https://vaadin.com/docs/latest/flow/integrations/spring/configuration#special-configuration-parameters
vaadin.allowed-packages=com.vaadin,org.vaadin,com.flowingcode,com.geovannycode

# Gemini Configuration (Vertex AI)
spring.ai.vertex.ai.gemini.project-id=${GEMINI_PROJECT_ID:your-project-id}
spring.ai.vertex.ai.gemini.location=us-east4
spring.ai.vertex.ai.gemini.chat.options.model=gemini-2.0-flash-exp
spring.ai.vertex.ai.gemini.chat.options.temperature=0.7

# Vertex AI Embedding Configuration
spring.ai.vertex.ai.embedding.project-id=${GEMINI_PROJECT_ID:your-project-id}
spring.ai.vertex.ai.embedding.location=us-east4
spring.ai.vertex.ai.embedding.options.model=text-embedding-004

# PostgreSQL Database Configuration
spring.datasource.url=jdbc:postgresql://localhost:5432/springflydb
spring.datasource.username=springfly
spring.datasource.password=${DB_PASSWORD:springfly123}
spring.datasource.driver-class-name=org.postgresql.Driver

# JPA/Hibernate Configuration
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=true

# Vector Store Configuration (PGVector)
spring.ai.vectorstore.pgvector.dimensions=768
spring.ai.vectorstore.pgvector.distance-type=COSINE_DISTANCE
spring.ai.vectorstore.pgvector.remove-existing-vector-store-table=false
spring.ai.vectorstore.pgvector.initialize-schema=true
spring.ai.vectorstore.pgvector.index-type=HNSW

# Agent Prompt Configuration
app.prompt.supervisor-agent=supervisor-agent-v1.md
app.prompt.booking-agent=booking-agent-v1.md
app.prompt.payment-agent=payment-agent-v1.md
app.prompt.escalation-agent=escalation-agent-v1.md

# Logging Configuration
logging.level.com.springai=INFO
logging.level.org.springframework.ai=DEBUG
logging.level.org.springframework.jdbc.core=WARN
logging.level.com.vaadin=INFO

# Actuator Configuration
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=when-authorized

# Spring AI Observations
spring.ai.chat.client.observations.log-prompt=true
spring.ai.chat.client.observations.log-completion=false
